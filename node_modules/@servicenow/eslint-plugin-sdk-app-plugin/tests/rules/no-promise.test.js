const { RuleTester } = require('eslint');
const noPromise = require('../../lib/rules/no-promise');

const ruleTester = new RuleTester({
    parserOptions: { ecmaVersion: 2015 }
});

const errorMessages = [{ message: 'ES2015 Promise class is not supported in now platform.' }]

ruleTester.run(
    'no-promise',
    noPromise,
    {
        valid: [{
            code: "const Promise = 'value';",
        }],
        invalid: [{
            code: 'const p = new Promise()',
            errors: errorMessages,
        },
        {
            code: 'Promise.all()',
            errors: errorMessages
        }],
    }
);